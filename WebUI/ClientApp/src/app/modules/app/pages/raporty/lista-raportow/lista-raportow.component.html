<p-card header="Lista raportów">
    <div class="p-mb-4">
        <p-fieldset legend="Filtr" [toggleable]="true">
            <form [formGroup]="listaRaportowForm">
                <div class="p-fluid p-formgrid p-grid">
                    <div class="p-field p-col-3">
                        <label for="miesiac">Miesiąc</label>
                        <p-calendar formControlName="miesiac" [locale]="pl" dateFormat="mm/yy" [showIcon]="true" appendTo="body" inputId="miesiac" view="month"
                            [yearNavigator]="true" yearRange="2020:2050"></p-calendar>
                    </div>
                    <div class="p-field p-col-3 p-ml-auto p-mt-auto">
                        <button pButton type="button" icon="pi pi-search" label="Wygeneruj raport" (click)="wygenerujRaportOnClick(tableRef)"></button>
                    </div>
                    <div class="p-field p-col-3 p-mt-auto">
                        <button pButton type="button" icon="pi pi-file-excel" label="Pobierz wygenerowany raport"></button>
                    </div>
                </div>
            </form>
        </p-fieldset>
    </div>
    <div>
        <p-table #tableRef [value]="uslugi" [lazy]="true" [lazyLoadOnInit]="false" [totalRecords]="liczbaRekordow" [loading]="loading" sortField="dataPrzyjeciaZlecenia"
            styleClass="p-datatable-striped p-datatable-gridlines" (onLazyLoad)="pobierzUslugi($event)">
            <ng-template pTemplate="header">
                <tr>
                    <th pSortableColumn="dataPrzyjeciaZlecenia">Data przyjecia zlecenia<p-sortIcon field="dataPrzyjeciaZlecenia"></p-sortIcon>
                    </th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-usluga>
                <tr>
                    <td>{{usluga.dataPrzyjeciaZlecenia | dateFormat: 'DD.MM.YYYY'}}</td>
                </tr>
            </ng-template>
            <ng-template pTemplate="emptymessage">
                <tr>
                    <td [attr.colspan]="1">
                        Brak danych
                    </td>
                </tr>
            </ng-template>
        </p-table>
    </div>
</p-card>